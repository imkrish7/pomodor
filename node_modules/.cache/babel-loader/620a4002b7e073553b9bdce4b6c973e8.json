{"ast":null,"code":"import _classCallCheck from \"I:\\\\pomo\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"I:\\\\pomo\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"I:\\\\pomo\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"I:\\\\pomo\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"I:\\\\pomo\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"I:\\\\pomo\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"I:\\\\pomo\\\\src\\\\clock.js\";\nimport React, { Component } from 'react';\nvar circle;\n\nvar _fill;\n\nvar clock =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(clock, _React$Component);\n\n  function clock(props) {\n    var _this;\n\n    _classCallCheck(this, clock);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(clock).call(this, props));\n    _this.state = {\n      currentAngle: 0,\n      second: 59,\n      minutes: 4\n    };\n    _this.draw = _this.draw.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.trigger = _this.trigger.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.stop = _this.stop.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.reset = _this.reset.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(clock, [{\n    key: \"draw\",\n    value: function draw() {\n      var canvas = this.refs.canvas;\n      var can = canvas.getContext('2d');\n      var poinTofill = 0;\n      var minutes = 4;\n      var second = 59;\n      var t = \"\".concat(minutes, \":\").concat(second);\n      can.lineWidth = 6;\n      can.fillStyle = \"#fff\";\n      can.strokeStyle = \"red\";\n      can.textAlign = \"center\";\n      can.font = \"25px Monospace\";\n      can.fillText(t, 150, 150);\n      can.beginPath();\n      can.arc(150, 150, 125, poinTofill, Math.PI * 2, false);\n      can.stroke();\n    }\n  }, {\n    key: \"trigger\",\n    value: function trigger() {\n      var _this2 = this;\n\n      var canvas = this.refs.canvas;\n      var can = canvas.getContext('2d');\n      var no = this.state.currentAngle;\n      var poinTofill = -Math.PI / 2;\n      var diff;\n      var time = 5 * 60;\n      var minutes = this.state.minutes;\n      var second = this.state.second;\n\n      _fill = function fill() {\n        diff = -Math.PI / 2 + no / time * Math.PI * 2;\n        can.clearRect(0, 0, 300, 300);\n\n        if (second === 0) {\n          --minutes;\n          second = 60;\n\n          _this2.setState({\n            minutes: minutes,\n            second: second\n          });\n        }\n\n        var t = \"\".concat(minutes, \":\").concat(second);\n        can.textAlign = \"center\";\n        can.font = \"25px Monspace\";\n        can.strokeStyle = \"red\";\n        can.beginPath();\n        can.arc(150, 150, 125, poinTofill, Math.PI * 2, false);\n        can.stroke();\n        can.fillText(t, 150, 150);\n        can.lineWidth = 5;\n        can.strokeStyle = \"#fff\";\n        can.beginPath();\n        can.arc(150, 150, 125, poinTofill, diff, false);\n        can.stroke();\n        can.save();\n\n        if (no === time) {\n          clearInterval(_fill);\n          minutes = 0;\n          second = 0;\n        }\n\n        ++no;\n        --second;\n\n        _this2.setState({\n          currentAngle: no,\n          second: second\n        });\n      };\n\n      circle = setInterval(_fill, 1000);\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      clearInterval(circle);\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      clearInterval(circle);\n      this.setState({\n        currentAngle: 0,\n        second: 59,\n        minutes: 4\n      });\n      this.draw();\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.draw();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(\"canvas\", {\n        ref: \"canvas\",\n        width: \"300\",\n        height: \"300\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"controler\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        ref: \"start\",\n        onClick: this.trigger,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, \"Start\"), React.createElement(\"button\", {\n        id: \"stop\",\n        onClick: this.stop,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, \"Stop\"), React.createElement(\"button\", {\n        id: \"reset\",\n        onClick: this.reset,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, \"Reset\")));\n    }\n  }]);\n\n  return clock;\n}(React.Component);\n\nexport default clock;","map":{"version":3,"sources":["I:\\pomo\\src\\clock.js"],"names":["React","Component","circle","fill","clock","props","state","currentAngle","second","minutes","draw","bind","trigger","stop","reset","canvas","refs","can","getContext","poinTofill","t","lineWidth","fillStyle","strokeStyle","textAlign","font","fillText","beginPath","arc","Math","PI","stroke","no","diff","time","clearRect","setState","save","clearInterval","setInterval"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nvar circle;\r\nvar fill;\r\nclass clock extends React.Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.state={\r\n      currentAngle:0,\r\n      second:59,\r\n      minutes:4\r\n    }\r\n    this.draw=this.draw.bind(this);\r\n    this.trigger=this.trigger.bind(this);\r\n    this.stop=this.stop.bind(this);\r\n    this.reset=this.reset.bind(this);\r\n  }\r\n\r\n\r\ndraw(){\r\n      const canvas=this.refs.canvas;\r\n      const can=canvas.getContext('2d');\r\n      var poinTofill = 0;\r\n      var minutes=4;\r\n      var second=59;\r\n      var t=`${minutes}:${second}`;\r\n      can.lineWidth = 6;\r\n      can.fillStyle = \"#fff\";\r\n      can.strokeStyle = \"red\";\r\n      can.textAlign = \"center\";\r\n      can.font = \"25px Monospace\";\r\n      can.fillText(t, 150, 150);\r\n      can.beginPath();\r\n      can.arc(150, 150, 125, poinTofill, Math.PI*2, false)\r\n      can.stroke();\r\n}\r\n\r\ntrigger(){\r\n    const canvas=this.refs.canvas;\r\n    const can=canvas.getContext('2d');\r\n    var no = this.state.currentAngle;\r\n    var poinTofill = -Math.PI/2;\r\n    var diff;\r\n    var time=5*60;\r\n    var minutes=this.state.minutes;\r\n    var second=this.state.second;\r\n\r\n  fill=()=>{\r\n   diff = -Math.PI/2+((no / time) * Math.PI * 2);\r\n   can.clearRect(0, 0, 300, 300);\r\n   if(second===0){\r\n       --minutes;\r\n         second=60;\r\n         this.setState({\r\n         minutes:minutes,\r\n         second:second\r\n       });\r\n   }\r\n   var t=`${minutes}:${second}`;\r\n   can.textAlign = \"center\";\r\n   can.font = \"25px Monspace\";\r\n   can.strokeStyle=\"red\";\r\n   can.beginPath();\r\n   can.arc(150, 150, 125, poinTofill, Math.PI*2, false)\r\n   can.stroke();\r\n   can.fillText(t, 150, 150);\r\n   can.lineWidth = 5;\r\n   can.strokeStyle = \"#fff\";\r\n   can.beginPath();\r\n   can.arc(150, 150, 125, poinTofill, diff,false );\r\n   can.stroke();\r\n   can.save();\r\n   if (no===time) {\r\n       clearInterval(fill);\r\n       minutes=0;\r\n       second=0;\r\n   }\r\n   ++no;\r\n   --second;\r\n   this.setState({\r\n     currentAngle:no,\r\n     second:second\r\n   })\r\n }\r\ncircle=setInterval(fill,1000);\r\n }\r\n\r\n stop(){\r\n   clearInterval(circle);\r\n }\r\n reset(){\r\nclearInterval(circle);\r\nthis.setState({\r\n  currentAngle:0,\r\n  second:59,\r\n  minutes:4\r\n})\r\nthis.draw();\r\n }\r\n  componentDidMount(){\r\n      this.draw();\r\n  }\r\n  render(){\r\n  return (<div>\r\n    <canvas ref=\"canvas\" width=\"300\" height=\"300\"></canvas>\r\n    <div className=\"controler\">\r\n        <button ref=\"start\" onClick={ this.trigger}>Start</button>\r\n        <button id=\"stop\" onClick={ this.stop } >Stop</button>\r\n        <button id=\"reset\" onClick={ this.reset }>Reset</button>\r\n    </div>\r\n    </div>\r\n  )\r\n}\r\n}\r\n\r\nexport default clock;\r\n"]},"metadata":{},"sourceType":"module"}